                            P2ASM
                        April 4, 2018
                          Dave Hein

P2asm is a P2 assembler that will generate binary files that are identical
to those generated by the PNUT assembler.  P2asm is written in C, and the
source code is contained in this directory.  P2asm can be built under Linux
or cygwin by running the buildit script file.

P2asm generates a binary file with a .bin extension, and a list file with a
.lst extension.  As an example, the file test.spin2 is assembled as follows:

p2asm test.spin2

This will generate test.bin and test.lst files.

The verify directory contains several spin2 files that were used to verify
that p2asm generates the same binary code as PNUT.  This is done by going
into the verify directory and running testall.  testall will print the
name of the file that is being tested and any differences that are found.

Note, there is a slight difference between floating point values in p2asm
versus PNUT.  The NTSC*.spin files in the verify directory are actually
compared against a previously generated .bin file instead of the .obj files
generated by PNUT because of the floating pointer differences.

To compile under the Macintosh OS or Linux:

	cc -Wall -o p2asm *.c -lm

P2asm can also generate an object file by specifying the -o option.  See the
readme.txt file for p2link for more information on object files.
