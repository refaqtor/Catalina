// include some standard header files
#include <stdio.h>

// include some useful utilities
#include "utilities.h"

// include the Spin HMI program (as generated by the SpinC utility)
#include "tiny_hmi.c"

#ifdef __CATALINA_P2
#error THIS PROGRAM REQUIRES A PROPELLER 1
#endif

int main(void) {

   char ch;

   // declare local storage for the Spin HMI program
   char var[TINY_HMI_VAR_SIZE];
   char stack[TINY_HMI_STACK_SIZE];

   // start the Spin HMI (which will start the tv and keyboard drivers)
   start_TINY_HMI(var, stack);

   // print a welcome message (via stdio!)
   printf("Welcome to Catalina\n");

   // now read and process characters (via stdio)
   while (1) {

      // get a key
      ch = getchar();

      // interpret the keys '0' .. '9' specially 
      // (note that getchar echoes the key itself)
      switch (ch) {
         case '1': printf(" one ");   break;
         case '2': printf(" two ");   break;
         case '3': printf(" three "); break;
         case '4': printf(" four ");  break;
         case '5': printf(" five ");  break;
         case '6': printf(" six ");   break;
         case '7': printf(" seven "); break;
         case '8': printf(" eight "); break;
         case '9': printf(" nine ");  break;
         case '0': printf(" zero ");  break;
      }

   }

   return 0;

}
